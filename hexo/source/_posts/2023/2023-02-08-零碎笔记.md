---
title: é›¶ç¢ç¬”è®°
abbrlink: 36605
date: 2023-02-08 10:33:26
categories:
  - ç¬”è®°
tags:
  - Linux
comments: true
license: true
cc_license: true
---
ç®€å•è®°å½•å¹³æ—¶é‡åˆ°çš„ä¸€äº›æŠ€æœ¯é—®é¢˜ã€‚
<!--more-->

## MacOS

### MacBook Air çš„å…¬é’¥
```
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDHVXS5pIS3ETdYUF1orsd6HuFmP8kIId0kXZC/XsighdDQFkG0iHkZZ/HVLLN7u0cwrtx0bun8naOksoTVXZQnbVMXGalX/zA0YzRySQzhrquHgIY0a5PKC+eZT+NOM+uN8SPZ/nuScxfmhQjrT/aup3ZeQoa6ThSWBcGX65V6jMgRYXdiVwRvtEE4qLdVwgk81Z7OKIlIWN98J9nYFisiim5P9Ew1WGp8ccKB44SNNJHCyc6rM2sp5JFrBhOyQ52BR7iv7Hf++Q9AKP8PXoyD4f3jEO8WJeCNkOdEw3WhNROrBMJ+C8y6K40Kl8Pzksb8+83xMpqVCuDA/b3uFb5H1tVUjY5+xstAQjAtfsB7C1NEUA8Msh4Q1lNmDHiB3YlVfsmY5Yhpfv+JU3V+B/7mtHXld0XF4Ac2YlAv3lgWeZpfBWagymxtL9MVjUgPTT7Dd2FBjtoHNLfFYt3r70D0fdRgtrSpIY+ppUgTGbnCz+fXCTun6jP/Ejx+3qZS85U= mail@pengfeima.cn
```

### Homebrew

[homebrew](https://brew.sh/index_zh-cn)æ˜¯MacOSä¸­çš„**è½¯ä»¶åŒ…çš„ç®¡ç†å™¨**ï¼Œå¦‚æœç½‘ç»œç¯å¢ƒè¾ƒå¥½ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç å®‰è£…ã€‚

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

å®‰è£…æˆåŠŸåä¼šå‡ºç°æç¤ºã€‚

![homebrewå®‰è£…æˆåŠŸ](https://githubimages.pengfeima.cn/images/202302191427882.png)

è¿è¡Œä¸¤è¡Œä»£ç ï¼Œå°†homebrewåŠ å…¥ç¯å¢ƒå˜é‡ã€‚

```bash
(echo; echo 'eval "$(/opt/homebrew/bin/brew shellenv)"') >> /Users/pengfei/.zprofile
eval "$(/opt/homebrew/bin/brew shellenv)"
```

### smartmontools

æ®è¯´ï¼Œç”±äºè‹¹æœå¯¹å†…å­˜äº¤æ¢åŒºä½¿ç”¨äº†è¾ƒä¸ºæ¿€è¿›çš„ç­–ç•¥ï¼Œ M1 èŠ¯ç‰‡çš„ Macbook ç¡¬ç›˜å†™å…¥é‡è¿œå¤§äºå…¶ä»–ç”µè„‘ã€‚å®‰è£…smartmontoolså¯ä»¥æŸ¥çœ‹ç£ç›˜çš„çŠ¶æ€ã€‚

```bash
brew install smartmontools
smartctl -a disk0
```

### tensorflow
åœ¨M1èŠ¯ç‰‡çš„è‹¹æœç”µè„‘ä¸Šå®‰è£…å¹¶æµ‹è¯•Tensorflowã€‚
1. ç›´æ¥é€šè¿‡pipå®‰è£…tensorflow

```python
pip install tensorflow-macos
pip install tensorflow-metal
```

2. å¦‚æœå®‰è£…è¿‡ç¨‹å‡ºç°é”™è¯¯ï¼Œå…ˆæ›´æ–°pipï¼Œå†å®‰è£…

```python
pip3 install --upgrade pip
python3 -m pip install --upgrade setuptools
```

3. å¦‚æœ`import tensorflow`å‡ºç°é”™è¯¯ï¼Œæ›´æ–°numpy

```py
pip install numpy --upgrade
```

4. æµ‹è¯•ä»£ç 

```python
from tensorflow.python.framework.ops import disable_eager_execution
disable_eager_execution()

import ssl
ssl._create_default_https_context = ssl._create_unverified_context

import tensorflow as tf
from tensorflow import keras

(x_train, y_train), (x_test, y_test) = keras.datasets.cifar10.load_data()
x_train, x_test = x_train / 255.0, x_test / 255.0

y_train = keras.utils.to_categorical(y_train, num_classes=10, dtype='float32')
y_test = keras.utils.to_categorical(y_test, num_classes=10, dtype='float32')

from tensorflow.python.compiler.mlcompute import mlcompute
mlcompute.set_mlc_device(device_name="gpu")

with tf.device('/GPU:0'):
    model = keras.Sequential([keras.layers.Flatten(input_shape=(32,32,3)),
                            keras.layers.Dense(3000, activation='relu'),
                            keras.layers.Dense(1000, activation='relu'),
                            keras.layers.Dense(10, activation='sigmoid')
                    ])

model.compile(optimizer="SGD", loss="categorical_crossentropy", metrics=['accuracy'])
model.fit(x_train, y_train, epochs=5)
model.evaluate(x_test, y_test, verbose=2)
```

å¯ä»¥çœ‹å‡ºM1å¤„ç†å™¨ç›¸å½“å¿«ã€‚æ•°æ®æ¥è‡ªç½‘ç»œ[^1]ã€‚
[^1]: [åœ¨æ­è½½M1èŠ¯ç‰‡çš„MacBook Proä¸Šæ„Ÿå—tensorflowçš„è¡¨ç°](https://zhuanlan.zhihu.com/p/478696535)

| å¤„ç†å™¨          | æ—¶é—´ |
| --------------- | ---- |
| Apple M1 GPU    | 15s  |
| Apple M1 CPU    | 24s  |
| NVIDIA A100-40G | 5s   |
| Intel CPU       | 34s  |

### Picgo 

1. é¡¹ç›®åœ°å€ https://github.com/Molunerfinn/PicGo/releases

2. ä¸‹è½½é“¾æ¥ https://github.com/Molunerfinn/PicGo/releases/download/v2.3.1/PicGo-2.3.1-arm64.dmg
3. æ¸…é™¤ app çš„éš”ç¦»å±æ€§ `sudo xattr -d com.apple.quarantine "/Applications/PicGo.app"`
4. picgoè®¾ç½®
![Picgoè®¾ç½®](https://githubimages.pengfeima.cn/images/202302211531575.png)
5. å›¾åºŠè®¾ç½®
![å›¾åºŠè®¾ç½®](https://githubimages.pengfeima.cn/images/202302211532165.png)

### MarginNote

License Email ï¼š499908174@qq.com
License Name ï¼šé©¬ é¹é£
License Code ï¼šid411195361195odr

### Mathpix snipping tool

è´¦å·ï¼š375Jgc366@alumni.stanford.edu
å¯†ç ï¼šaAmath1@A

## GIT

### æ¸…ç†ä»“åº“å†å²
``` bash
# åˆ‡æ¢åˆ°ä¸€ä¸ªè„±ç¦»ä¸»åˆ†æ”¯çš„å¦å¤–ä¸€æ¡å…¨æ–°ä¸»åˆ†æ”¯ï¼Œä¸ç”¨å¤ªåœ¨æ„å«ä»€ä¹ˆï¼Œå› ä¸ºåé¢è¿˜ä¼šä¿®æ”¹åˆ†æ”¯åç§°
git checkout --orphan latest_branch
# æš‚å­˜æ‰€æœ‰æ”¹åŠ¨è¿‡çš„æ–‡ä»¶ï¼Œå†…å®¹ä¸ºå½“å‰æ—§åˆ†æ”¯çš„æœ€æ–°ç‰ˆæœ¬æ‰€æœ‰æ–‡ä»¶
git add -A
#æäº¤æ›´æ”¹
git commit -am "commit message"
#åˆ é™¤åŸå§‹ä¸»åˆ†æ”¯
git branch -D main
#å°†å½“å‰åˆ†æ”¯é‡å‘½åä¸º main
git branch -m main
#æœ€åï¼Œå¼ºåˆ¶æ›´æ–°æ‚¨çš„å­˜å‚¨åº“
git push -f origin main

```

### [ä»ä»“åº“çš„å†å²è®°å½•ä¸­åˆ é™¤æ–‡ä»¶](https://docs.github.com/zh/repositories/working-with-files/managing-large-files/about-large-files-on-github#removing-files-from-a-repositorys-history)

### [ä¸Šä¼ æ–‡ä»¶åˆ°GitHub Realease](https://docs.github.com/en/rest/releases/assets?apiVersion=2022-11-28#upload-a-release-asset)

éœ€è¦è¿™äº›å‚æ•°ï¼š

1. owner
2. repo
3. release_id
4. name æ–‡ä»¶å

å…·ä½“å¯æŸ¥çœ‹[Pythonä»£ç ](https://github.com/shaoyaoqian/shaoyaoqian.github.io/releases/download/20230209/GitHub.API.upload.files.to.Release.py)

### è°ƒç”¨GitHub APIå¤„ç†Markdownæ–‡æœ¬
https://github.com/shaoyaoqian/shaoyaoqian.github.io/releases/download/20230209/text.html
https://github.com/shaoyaoqian/shaoyaoqian.github.io/releases/download/20230209/text.md
https://github.com/shaoyaoqian/shaoyaoqian.github.io/releases/download/20230209/github_markdown.py

## é‚®ä»¶æµ‹è¯•

### Python
```python
import smtplib
smtpObj = smtplib.SMTP_SSL("smtp.qq.com")
smtpObj.login("499908174@qq.com","zzokkzruycbobicd")
smtpObj.sendmail("499908174@qq.com","mapengfei@mail.nwpu.edu.cn","ddddfasdfa")
smtpObj.quit()

import smtplib
smtpObj = smtplib.SMTP_SSL("smtp.163.com",465)
smtpObj.login("merryjingle@163.com","OCDVFOFNDTXLIXGN")
smtpObj.sendmail("merryjingle@163.com","mail@pengfeima.cn","ddddfasdfa")
smtpObj.quit()
```

## Vercel

### [åå‘ä»£ç†](https://blog.csdn.net/qq_39010320/article/details/119923538)

1. åˆ›å»ºé…ç½®æ–‡ä»¶`emoji.json`
``` bash
mkdir vercel
vi emoji.json
```
``` json
{
    "version": 2,
    "routes": [
        {"src": "/(.*)","dest": "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/$1"}
    ]
}
```
2. å®‰è£…ã€ç™»é™†Vercelï¼Œåˆ›å»ºé¡¹ç›®
``` bash
npm i -g vercel
vercel longin
vercel -A emoji.json --prod
```
``` bash
$ vercel -A emoji.json --prod
Vercel CLI 28.9.0
? Set up and deploy â€œ~/Documents/GitHub/emoji/vercelâ€? [Y/n] y
? Which scope do you want to deploy to? shaoyaoqian
? Link to existing project? [y/N] n
? Whatâ€™s your projectâ€™s name? shaoyaoqian-emoji
? In which directory is your code located? ./
Local settings detected in vercel.json:
No framework detected. Default Project Settings:
- Build Command: `npm run vercel-build` or `npm run build`
- Development Command: None
- Install Command: `yarn install`, `pnpm install`, or `npm install`
- Output Directory: `public` if it exists, or `.`
? Want to modify these settings? [y/N] n
ğŸ”—  Linked to shaoyaoqian/shaoyaoqian-emoji (created .vercel and added it to .gitignore)
ğŸ”  Inspect: https://vercel.com/shaoyaoqian/shaoyaoqian-emoji/FyV69HGAWUtU4ihVFXq9hNtbaNzY [1s]
âœ…  Production: https://shaoyaoqian-emoji.vercel.app [6s]
```

## è¡¨æƒ…åŒ…åˆ¶ä½œ
#### è¡¨æƒ…åŒ…ä¸‹è½½
1. [Microsoft animated fluent emojis](https://github.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis)
2. [Blobcat](https://blob.cat/main/public)

#### [ç”Ÿæˆé…ç½®æ–‡ä»¶](https://github.com/kkfive/emotion_generate)

## Docker

### shadowsocks æœåŠ¡ç«¯è¿è¡Œ
```
sudo docker run -d -p 444:444 --name shadowsocks --restart always oddrationale/docker-shadowsocks -s 0.0.0.0 -p 444 -k a12345 -m aes-256-cfb
sudo docker logs -f -t --tail 10 shadowsocks
```

## docker-compose

### æ­å»ºmysqlæœåŠ¡
åœ¨mysqlæ–‡ä»¶å¤¹ä¸‹åˆ›å»º`my.conf`å’Œ`docker-compose.yml`ä¸¤ä¸ªæ–‡ä»¶ï¼Œé€šè¿‡å‘½ä»¤`sudo docker-compose up -d`å¯åŠ¨æœåŠ¡ã€‚
``` bash
mkdir mysql && cd mysql
```
``` conf
[mysqld]
user=mysql
default-storage-engine=INNODB
character-set-server=utf8
[client]
default-character-set=utf8
[mysql]
default-character-set=utf8
```
``` yml
version: '3'
services:
  mysql:
    image: mysql
    restart: always
    container_name: mysql
    environment:
      MYSQL_ROOT_PASSWORD: password
      TZ: Asia/Shanghai
    ports:
      - 3306:3306
    volumes:
      - ./data:/var/lib/mysql
      - ./my.cnf:/etc/mysql/my.cnf
    command:
      --max_connections=1000
      --character-set-server=utf8mb4
      --collation-server=utf8mb4_general_ci
      --default-authentication-plugin=mysql_native_password
```

### å®šæ—¶æ‰§è¡ŒPythonè„šæœ¬

1. `cronfile`ç”¨äºè®¾å®šå®šæ—¶æ‰§è¡Œè„šæœ¬`run.sh`ã€‚

```cronfile
 50 * * * * cd /data && bash ./run.sh
```

2. `run.sh`è®¾å®šæ‰§è¡Œå‘½ä»¤ã€‚

```bash
#! /bin/sh
cd /data && rm *.html
cd /data && touch changjiang_daily.html tech_daily.html hubei_daily.html youth_daily.html 
cd /data && touch changjiang_sorted_daily.html tech_sorted_daily.html hubei_sorted_daily.html youth_sorted_daily.html 
cd /data && scrapy crawl tech_daily && scrapy crawl youth_daily && scrapy crawl hubei_daily && scrapy crawl changjiang_daily
cd /data && python3 send_result.py
```
3. `Dockerfile` åˆ›å»ºé•œåƒã€‚
``` dockerfile
FROM python:3.9.6 as builder
COPY src/ /opt/src
WORKDIR /opt/src
# Install python3
RUN pip install -r requirements.txt

FROM builder as builder_ex
# Install cron
RUN apt-get update && apt-get -y install cron 
# Copy hello-cron file to the cron.d directory
COPY src/cronfile /etc/cron.d/cron
# Give execution rights on the cron job
RUN chmod 0644 /etc/cron.d/cron
# Apply cron job
RUN crontab /etc/cron.d/cron
# Create the log file to be able to run tail
RUN touch /var/log/cron.log
# Run the command on container startup
CMD ["cron", "-f"]
```
4. `docker-compose.yml`ç”¨äºåˆ›å»ºå®¹å™¨ã€‚
``` docker-compose.yml
version: '3'
services:
  crawler:
    build: ../
    volumes:
        - ./log:/var/log
        - ./data:/data
    #   - ./data:/opt/src
```
æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š

![ç›®å½•](https://githubimages.pengfeima.cn/images/202302161411698.png)


## Nginx Proxy Manager

[Nginx Proxy Manager ](https://github.com/NginxProxyManager/nginx-proxy-manager)ä¸ºNginxæä¾›äº†ç½‘é¡µç«¯çš„ç®¡ç†ç•Œé¢ã€‚åˆ›å»º`docker-compose.yml`ï¼Œé€šè¿‡å‘½ä»¤`sudo docker-compose up -d`å¯åŠ¨æœåŠ¡ã€‚é€šè¿‡ä¸åŒåŸŸåè®¿é—®æœåŠ¡å™¨ä¸Šçš„ä¸åŒæœåŠ¡ï¼Œåœ¨è®¾ç½®ç•Œé¢ä¸­å°†æœåŠ¡ç«¯å£å’ŒåŸŸåå…³è”èµ·æ¥ã€‚è¿™é‡Œçš„IPåœ°å€ä¸èƒ½æ˜¯127.0.0.1ï¼Œè¯¥æ€ä¹ˆè®¾ç½®æˆ‘ä¹Ÿä¸çŸ¥é“ã€‚

![è®¾ç½®ä»£ç†](https://githubimages.pengfeima.cn/images/202302221747041.png)

```yaml
version: '3'
services:
  app:
    image: 'jc21/nginx-proxy-manager:latest'
    restart: unless-stopped
    ports:
      - '80:80'
      - '81:81'
      - '443:443'
    volumes:
      - ./data:/data
      - ./letsencrypt:/etc/letsencrypt
```



## Microsoft Office 365

1. ç™»é™†å¼€å‘è€…è´¦å·æŸ¥çœ‹E5çš„è®¢é˜…åˆ°æœŸæ—¶é—´ https://developer.microsoft.com/zh-cn/microsoft-365/profile
2. ç™»é™†ç®¡ç†å‘˜è´¦å·åˆ†é…officeè´¦å· https://developer.microsoft.com/zh-cn/office/dev-program
3. å…¶ä¸­ä¸€ä¸ªç”¨æˆ· `self@ylvbg.onmicrosoft.com`

## LaTeX
###  GitHubä»“åº“çš„bibtexå¼•ç”¨æ ¼å¼
``` bibtex
@misc{GPT2-NewsTitle,
	author = {Cong Liu},
	title = {Chinese NewsTitle Generation Project by GPT2},
	year = {2020},
	publisher = {GitHub},
	journal = {GitHub repository},
	url=â€https://github.com/liucongg/GPT2-NewsTitle",
}
```

## clash ç™½åå•è®¾ç½®

åˆ›å»ºæ–‡ä»¶ ` ~/.config/clash/proxyIgnoreList.plist ` ï¼ŒåŠ å…¥åŸŸåã€‚
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<array>
        <string>192.168.0.0/16</string>
        <string>10.0.0.0/8</string>
        <string>172.16.0.0/12</string>
        <string>127.0.0.1</string>
        <string>localhost</string>
        <string>*.local</string>
        <string>*.crashlytics.com</string>
        <string>*.apple.com</string>
        <string>*.pengfeima.cn</string>
</array>
</plist>
```

